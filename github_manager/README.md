# GitHub Domains Manager

è´Ÿè´£ç®¡ç† domains.json æ–‡ä»¶çš„è¯»å–ã€ä¿®æ”¹å’Œ Git æ“ä½œçš„æ¨¡å—ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”§ **JSONç®¡ç†**: è¯»å–ã€ä¿®æ”¹ã€ä¿å­˜ domains.json æ–‡ä»¶
- ğŸ“ **æ™ºèƒ½æ›¿æ¢**: æ›¿æ¢å“ç‰Œç¬¬ä¸€ä¸ªåŸŸåä¸ºæ–°åŸŸåï¼ˆç«‹å³ç”Ÿæ•ˆï¼‰
- ğŸ—‘ï¸ **åŸŸåç§»é™¤**: ä»å“ç‰Œä¸­ç§»é™¤æŒ‡å®šåŸŸå
- ğŸ”„ **Gité›†æˆ**: è‡ªåŠ¨æäº¤å’Œæ¨é€åˆ°GitHub
- ğŸ” **çŠ¶æ€æ£€æŸ¥**: æ£€æŸ¥Gitä»“åº“çŠ¶æ€å’Œæ›´æ”¹
- ğŸš€ **åŒæ­¥åŠŸèƒ½**: ä»è¿œç¨‹æ‹‰å–æœ€æ–°æ›´æ”¹

## æ ¸å¿ƒç±»

### DomainsManager
ç®¡ç† domains.json æ–‡ä»¶çš„è¯»å†™æ“ä½œï¼š
- `load_domains()` - åŠ è½½JSONæ•°æ®
- `save_domains(data)` - ä¿å­˜JSONæ•°æ®
- `add_domain_to_brand(brand, url, desc)` - æ·»åŠ åŸŸååˆ°å“ç‰Œ
- `get_brand_domains(brand)` - è·å–å“ç‰ŒåŸŸååˆ—è¡¨
- `remove_domain_from_brand(brand, url)` - ç§»é™¤åŸŸå

### GitManager  
å¤„ç†Gitç›¸å…³æ“ä½œï¼š
- `get_status()` - è·å–ä»“åº“çŠ¶æ€
- `add_file(path)` - æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
- `commit(message)` - æäº¤æ›´æ”¹
- `push()` - æ¨é€åˆ°è¿œç¨‹
- `pull()` - æ‹‰å–è¿œç¨‹æ›´æ”¹

### GitHubManager
æ•´åˆä¸Šè¿°åŠŸèƒ½çš„é«˜çº§æ¥å£ï¼š
- `add_domain_and_commit(brand, domain, desc)` - ä¸€é”®æ·»åŠ åŸŸåå¹¶æ¨é€
- `get_brand_domains(brand)` - è·å–åŸŸååˆ—è¡¨
- `sync_from_remote()` - åŒæ­¥è¿œç¨‹æ›´æ”¹

## ä½¿ç”¨ç¤ºä¾‹

```python
from domains_manager import GitHubManager

# åˆå§‹åŒ–ç®¡ç†å™¨
manager = GitHubManager(
    domains_file_path="/path/to/domains.json",
    git_repo_path="/path/to/git/repo"
)

# æ·»åŠ æ–°åŸŸåå¹¶è‡ªåŠ¨æäº¤æ¨é€
success = manager.add_domain_and_commit(
    brand="wujie",
    new_domain="https://apiwj250905.wj0001.cfd", 
    description="è‡ªåŠ¨ç”Ÿæˆçš„å¤‡ç”¨åŸŸå"
)

if success:
    print("åŸŸåæ·»åŠ å¹¶æ¨é€æˆåŠŸï¼")

# è·å–å“ç‰ŒåŸŸååˆ—è¡¨
domains = manager.get_brand_domains("wujie")
print(f"wujieå“ç‰Œæœ‰ {len(domains)} ä¸ªåŸŸå")
```

## å·¥ä½œæµç¨‹

1. **æ‹‰å–æœ€æ–°ä»£ç ** - é¿å…åˆå¹¶å†²çª
2. **ä¿®æ”¹JSONæ–‡ä»¶** - åœ¨æŒ‡å®šå“ç‰Œåˆ—è¡¨å¼€å¤´æ·»åŠ æ–°åŸŸå  
3. **æ£€æŸ¥æ–‡ä»¶æ›´æ”¹** - ç¡®è®¤æœ‰å®é™…ä¿®æ”¹
4. **æ·»åŠ åˆ°æš‚å­˜åŒº** - git add
5. **æäº¤æ›´æ”¹** - git commitï¼ˆè‡ªåŠ¨ç”Ÿæˆæäº¤æ¶ˆæ¯ï¼‰
6. **æ¨é€åˆ°è¿œç¨‹** - git push

## æäº¤æ¶ˆæ¯æ ¼å¼

```
è‡ªåŠ¨æ·»åŠ {brand}å“ç‰ŒåŸŸå: {domain_url} (2025-09-05)
```

## é”™è¯¯å¤„ç†

- æ–‡ä»¶ä¸å­˜åœ¨æ—¶æŠ›å‡ºå¼‚å¸¸
- Gitæ“ä½œå¤±è´¥æ—¶è®°å½•é”™è¯¯æ—¥å¿—
- ç½‘ç»œé—®é¢˜æ—¶è¿”å›å¤±è´¥çŠ¶æ€
- è‡ªåŠ¨è·³è¿‡æ— æ›´æ”¹çš„æ“ä½œ

## æ—¥å¿—è®°å½•

ä½¿ç”¨Python loggingæ¨¡å—è®°å½•ï¼š
- æˆåŠŸæ“ä½œçš„ä¿¡æ¯æ—¥å¿—
- å¤±è´¥æ“ä½œçš„é”™è¯¯æ—¥å¿—  
- Gitå‘½ä»¤æ‰§è¡ŒçŠ¶æ€
- æ–‡ä»¶æ“ä½œç»“æœ